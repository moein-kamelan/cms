<section class="h-screen bg-gray-50 
                bg-gradient-to-r from-purple-500 to-cyan-600
                 dark:bg-gradient-to-r dark:from-zinc-600 dark:to-red-500">

  <div
    class="flex flex-col items-center justify-center px-2 py-4 mx-auto md:h-screen lg:py-0 h-full"
  >
    <div
      class="w-full bg-white rounded-lg shadow-4xl  md:mt-0 sm:max-w-4xl xl:p-0 dark:bg-gray-800 dark:border-gray-700"
    >
      <div class="!p-4 space-y-4 md:space-y-6 sm:p-8 rounded-2xl ">
        <h1
          class="text-xl font-iranSansDemiBold leading-tight tracking-tight text-gray-900 md:text-4xl dark:text-white mb-2"
        >
          ایجاد حساب جدید
        </h1>
        <div>
          <mat-tab-group
            animationDuration="300ms"
            class="border-b-2 border-b-indigo-500 dark:border-b-amber-200"
            (selectedIndexChange)="onChangeTab($event)"
          >
            <mat-tab label="شخص حقیقی" class="flex items-center justify-center">
              <div
                class="fields-container flex flex-col items-center justify-center gap-2 mt-5"
              >
                <form
                  [formGroup]="personalFormGroup"
                  (ngSubmit)="onPersonalSubmit()"
                  class="grid sm:grid-cols-2 gap-x-4 gap-y-1.5 w-full p-2"
                >
                  <mat-form-field class="w-full">
                    <mat-label>نام</mat-label>
                    <input
                      matInput
                      type="text"
                      placeholder="نام  را وارد کنید"
                      formControlName="firstName"
                    />
                    <mat-error>
                      <app-error-message
                        [control]="personalFormGroup.get('firstName')"
                        [minlength]="4"
                        [maxlength]="12"
                      ></app-error-message>
                    </mat-error>
                  </mat-form-field>
                  <mat-form-field class="w-full">
                    <mat-label>نام خانوادگی</mat-label>
                    <input
                      matInput
                      type="text"
                      placeholder="نام خانوادگی را وارد کنید"
                      formControlName="lastName"
                    />

                    <mat-error>
                      <app-error-message
                        [control]="personalFormGroup.get('lastName')"
                        [minlength]="4"
                        [maxlength]="12"
                      ></app-error-message>
                    </mat-error>
                  </mat-form-field>

                  <mat-form-field class="w-full">
                    <mat-label>کد ملی</mat-label>
                    <input
                      matInput
                      type="text"
                      placeholder="کد ملی را وارد کنید"
                      formControlName="nationalCode"
                    />

                    <mat-error>
                      <app-error-message
                        [control]="personalFormGroup.get('nationalCode')"
                        [exactlength]="10"
                      ></app-error-message>
                    </mat-error>
                  </mat-form-field>

                  <mat-form-field class="w-full">
                    <mat-label>شماره همراه</mat-label>
                    <input
                      matInput
                      type="text"
                      placeholder="مثال : 09031357262"
                      formControlName="mobileNumber"
                    />
                    <mat-error>
                      <app-error-message
                        [control]="personalFormGroup.get('mobileNumber')"
                        [isMobileNumber]="true"
                      ></app-error-message>
                    </mat-error>
                  </mat-form-field>

                  <mat-form-field class="w-full">
                    <mat-label>نام کاربری</mat-label>
                    <input
                      matInput
                      type="text"
                      placeholder="نام کاربری را وارد کنید"
                      formControlName="userName"
                    />
                    <mat-error>
                      <app-error-message
                        [control]="personalFormGroup.get('userName')"
                        [minlength]="4"
                        [maxlength]="12"
                      ></app-error-message>
                    </mat-error>
                  </mat-form-field>

                  <mat-form-field class="w-full">
                    <mat-label>رمز عبور</mat-label>
                    <input
                      matInput
                      type="password"
                      placeholder="رمز عبور را وارد کنید"
                      formControlName="password"
                    />

                    <mat-error>
                      <app-error-message
                        [control]="personalFormGroup.get('password')"
                        [minlength]="8"
                        [maxlength]="12"
                      ></app-error-message>
                    </mat-error>
                  </mat-form-field>

                  <section
                    class="example-section"
                    class="flex items-center w-full gap-4"
                  >
                    <p>
                      <mat-slide-toggle
                        formControlName="isForeigner"
                      ></mat-slide-toggle>
                    </p>

                    <h4 class="text-main-black dark:text-white text-sm">
                      ایا اتباع خارجی هستید؟
                    </h4>
                  </section>

               

                </form>
              </div>
            </mat-tab>
            <mat-tab label="شخص حقوقی">
              <form
                [formGroup]="legalFormGroup"
                #legalFrom="ngForm"
                (ngSubmit)="onlegalFormSubmit()"
                class="sm:grid  lg:grid-cols-4 max-sm:space-y-3.5 gap-y-2 gap-x-5 mt-5 p-2"
              >
                <mat-form-field class="w-full">
                  <mat-label>نام سازمان</mat-label>
                  <input
                    matInput
                    type="text"
                    placeholder="نام سازمان را وارد کنید"
                    formControlName="name"
                  />

                  <mat-error>
                    <app-error-message
                      [control]="legalFormGroup.get('name')"
                      [minlength]="4"
                      [maxlength]="12"
                    ></app-error-message>
                  </mat-error>
                </mat-form-field>

                <mat-form-field class="w-full">
                  <mat-label>کد پستی</mat-label>
                  <input
                    matInput
                    type="text"
                    placeholder="کد پستی را وارد کنید"
                    formControlName="postalCode"
                  />

                  <mat-error>
                    <app-error-message
                      [control]="legalFormGroup.get('postalCode')"
                      [minlength]="4"
                      [maxlength]="12"
                      [exactlength]="10"
                    ></app-error-message>
                  </mat-error>
                </mat-form-field>

                <mat-form-field class="w-full">
                  <mat-label>شماره همراه</mat-label>
                  <input
                    matInput
                    type="text"
                    placeholder="مثال : ۰۹۰۳۱۳۵۷۲۶۲"
                    formControlName="mobileNumber"
                    
                  />

                  <mat-error>
                    <app-error-message
                      [control]="legalFormGroup.get('mobileNumber')"
                      [isMobileNumber]="true"
                    ></app-error-message>
                  </mat-error>
                </mat-form-field>

                <mat-form-field class="w-full">
                  <mat-label>شناسه ملی</mat-label>
                  <input
                    matInput
                    type="text"
                    placeholder="شناسه ملی را وارد کنید"
                    formControlName="nationalId"
                  />

                  <mat-error>
                    <app-error-message
                      [control]="legalFormGroup.get('nationalId')"
                      [exactlength]="11"
                    ></app-error-message>
                  </mat-error>
                </mat-form-field>

                <mat-form-field class="w-full">
                  <mat-label>رمز عبور</mat-label>
                  <input
                    matInput
                    type="password"
                    placeholder="رمز عبور را وارد کنید"
                    formControlName="password"
                  />

                  <mat-error>
                    <app-error-message
                      [control]="legalFormGroup.get('password')"
                      [minlength]="8"
                      [maxlength]="12"
                    ></app-error-message>
                  </mat-error>
                </mat-form-field>

                <mat-form-field class="w-full">
                  <mat-label>نام کاربری</mat-label>
                  <input
                    matInput
                    type="text"
                    placeholder="نام کاربری را وارد کنید"
                    formControlName="userName"
                  />

                  <mat-error>
                    <app-error-message
                      [control]="legalFormGroup.get('userName')"
                      [minlength]="4"
                      [maxlength]="12"

                    ></app-error-message>
                  </mat-error>
                </mat-form-field>

                <mat-form-field class="w-full">
                  <mat-label>نام </mat-label>
                  <input
                    matInput
                    type="text"
                    placeholder="نام را وارد کنید"
                    formControlName="firstName"
                  />

                  <mat-error>
                    <app-error-message
                      [control]="legalFormGroup.get('firstName')"
                      [minlength]="4"
                      [maxlength]="12"
                    ></app-error-message>
                  </mat-error>
                </mat-form-field>

                <mat-form-field class="w-full">
                  <mat-label>نام خانوادگی</mat-label>
                  <input
                    matInput
                    type="text"
                    placeholder="نام خانوادگی را وارد کنید"
                    formControlName="lastName"
                  />
                  <mat-error>
                    <app-error-message
                      [control]="legalFormGroup.get('lastName')"
                      [minlength]="4"
                      [maxlength]="12"
                    ></app-error-message>
                  </mat-error>
                </mat-form-field>

                <mat-form-field class="w-full col-span-2">
                  <mat-label>کد اقتصادی</mat-label>
                  <input
                    matInput
                    type="text"
                    placeholder="کد اقتصادی را وارد کنید"
                    formControlName="economicCode"
                  />

                  <mat-error>
                    <app-error-message
                      [control]="legalFormGroup.get('economicCode')"
                      [exactlength]="12"
                    ></app-error-message>
                  </mat-error>
                </mat-form-field>

                <mat-form-field class="w-full col-span-2" appearance="fill">
                  <mat-label>کد ملی</mat-label>
                  <input
                    matInput
                    type="text"
                    placeholder="کد ملی را وارد کنید"
                    formControlName="nationalCode"
                  />
                  <mat-error>
                    <app-error-message
                      [control]="legalFormGroup.get('nationalCode')"
                      [exactlength]="10"
                    ></app-error-message>
                  </mat-error>
                </mat-form-field>

                <mat-form-field class="w-full col-span-4">
                  <mat-label>آدرس</mat-label>
                  <textarea
                    matInput
                    placeholder="آدرس را وارد کنید"
                    formControlName="address"
                    class="addressTextarea"
                  ></textarea>
                  <mat-error>
                    <app-error-message
                      [control]="legalFormGroup.get('address')"
                      [minlength]="4"
                      [maxlength]="12"
                    ></app-error-message>
                  </mat-error>
                </mat-form-field>

               
              </form>
            </mat-tab>
          </mat-tab-group>
        </div>

        <div class="w-full flex items-center justify-center">
          <button
            (click)="onsubmit()"
            [ngClass]="{
              'invalid-btn': !legalFormGroup.valid && !personalFormGroup.valid
            }"
            [disabled]="!legalFormGroup.valid && !personalFormGroup.valid"
            class="relative inline-flex items-center justify-center p-0.5 mb-2 me-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-purple-600 to-blue-500 group-hover:from-purple-600 group-hover:to-blue-500 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800 w-80"
          >
            <span
              class="relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-transparent group-hover:dark:bg-transparent w-full text-black dark:text-white disabled:text-red-500 hover:text-white text-iranSansDemiBold dark:hover:text-gray-900"
            >
              تایید ثبت نام
            </span>
          </button>
        </div>

        <p class=" font-light text-gray-500 dark:text-gray-400 text-lg">
          ایا از قبل حساب کاربری دارید؟
          <a
            routerLink="/account/login"
            class="font-medium text-primary-600 hover:underline dark:text-primary-500 fontbold"
            >ورود</a
          >
        </p>

        <!-- <form class="example-form">
            <mat-form-field class="example-full-width">
              <mat-label>Email</mat-label>
              <input type="email" matInput [formControl]="emailFormControl" [errorStateMatcher]="matcher"
                     placeholder="Ex. pat@example.com">
              <mat-hint>Errors appear instantly!</mat-hint>
              @if (emailFormControl.hasError('email') && !emailFormControl.hasError('required')) {
                <mat-error>Please enter a valid email address</mat-error>
              }
              @if (emailFormControl.hasError('required')) {
                <mat-error>Email is <strong>required</strong></mat-error>
              }
            </mat-form-field>
          </form> -->
      </div>
    </div>
  </div>
</section>
